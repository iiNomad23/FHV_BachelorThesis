% File must be on root level for minted to work
% ===============================================================================
\documentclass[a4paper,12pt,oneside,table,ngerman]{scrreprt}

% ===============================================================================
% Packages 
% ===============================================================================
\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage[T1]{fontenc} % Silbentrennung bei Sonderzeichen
\usepackage{graphicx} % Bilder einbinden
\usepackage{wrapfig} % Bilder positionieren
\usepackage[ngerman]{babel} % Deutsche Sprachanpassungen
\usepackage{minted} % Code Highlighting/Import
\usepackage{csquotes} % Anführungszeichen und Zitieren
\usepackage[bindingoffset=8mm]{geometry} % Bindeverlust von 8mm einbeziehen
\usepackage{caption} % Abbildungslegenden
\usepackage{xcolor} % Farbige Hervorhebungen
\usepackage{setspace} % Zeilenabstand
\usepackage[style=authoryear,citestyle=authoryear,backend=biber]{biblatex} % Literaturverweise
\usepackage[linktocpage=true]{hyperref} % Links
\usepackage{acronym} % Abkürzungsverzeichnis
\usepackage[textwidth=1in]{todonotes}
\usepackage{url}
\usepackage{xpatch}

% ===============================================================================
% Custom Commands
% ===============================================================================
\renewcommand{\contentsname}{My nice list of contents}
\renewcommand{\listfigurename}{My nice list of figures}
\renewcommand{\listtablename}{My nice list of table}

% ===============================================================================
% TODO Settings
% ===============================================================================
\makeatletter
\xpatchcmd{\@todo}{\setkeys{todonotes}{#1}}{\setkeys{todonotes}{inline,#1}}{}{}
\makeatother

% ===============================================================================
% Code List Environment
% ===============================================================================
% Create a new environment for breaking code listings across pages.
% Change lstlisting to figure if code fragments should be listed under figures
\newenvironment{longlisting}{\captionsetup{type=lstlisting}}{}
% Changes Captions Prefix from 'Listing <nr>' to 'Code Fragment <nr>'
%\renewcommand{\lstlistingname}{Code Fragment}      
% Sets title for listings used as heading

% ===============================================================================
% Settings
% ===============================================================================
\captionsetup{format=hang, justification=raggedright}
\addbibresource{_other/main.bib}
\onehalfspacing % Line Spacing
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}   % Depth of TOC
\setlength{\emergencystretch}{2pt}

% HREF - Links
\hypersetup{
    colorlinks=false,
    %all => sections and subsections linked
    linktoc=all,
    %Color of link
    linkcolor=black,
}

% Include Configuration file
\input{_other/config}

\begin{document}

% ===============================================================================
% Title Page
% ===============================================================================
\input{_other/titlepage/titlepage}

% ===============================================================================
% Roman Chapter and Page Numbering
% ===============================================================================
\pagenumbering{Roman}
\newcounter{romanChapter}
\renewcommand{\thechapter}{\Roman{chapter}}

% ===============================================================================
% Standardinhalte - Vorwort
% ===============================================================================
\input{content/standardContent/statuaryDeclaration}
\input{content/standardContent/widmung}
\input{content/standardContent/danksagung}
\input{content/standardContent/abstract_german}
\input{content/standardContent/abstract_english}


% ===============================================================================
% Table of Contents
% ===============================================================================
\renewcommand{\contentsname}{Inhaltsverzeichnis}
\tableofcontents

% ===============================================================================
% List of TODOs
% ===============================================================================
\listoftodos
\todo{[Template main.tex] Remove Listing of Todos}

% ===============================================================================
% List of Acronyms
% ===============================================================================
\clearpage
\phantomsection
\addcontentsline{toc}{chapter}{\protect\numberline{I}Liste der Akronyme/Glossar}
\chapter*{Abkürzungsverzeichnis}\label{ch:acro}
\input{content/_acro}
\clearpage

% ===============================================================================
% Change from Roman to Arabic Chapter and page numbers
% ===============================================================================
\setcounter{romanChapter}{\value{chapter}} % Save current
\stepcounter{romanChapter} % Increment roman chapter
\stepcounter{romanChapter} % Increment roman chapter
\setcounter{chapter}{0} % Reset chapter number for content
\renewcommand{\thechapter}{\arabic{chapter}} % Set style to Arabic numerals

% Changes page numbering to Arabic
\renewcommand{\thepage}{\arabic{page}} % keeps page counter 
%\pagenumbering{arabic} % resets page counter


% ===============================================================================
% ===============================================================================
\include{content/_root}
% ===============================================================================
% ===============================================================================


% Changes page numbering to roman
\renewcommand{\thepage}{\Roman{page}} % keeps page counter 
%\pagenumbering{Roman} % resets page counter

% Changes the chapter numbering to roman again
\renewcommand{\thechapter}{\Roman{chapter}}
\setcounter{chapter}{\theromanChapter}

% ===============================================================================
% List of Figures
% ===============================================================================
\clearpage
\phantomsection
\addcontentsline{toc}{chapter}{\protect\numberline{\thechapter}Abbildungsverzeichnis}
\stepcounter{chapter}
\renewcommand{\listfigurename}{Abbildungsverzeichnis}
\listoffigures

% ===============================================================================
% List of Tables
% ===============================================================================
\clearpage
\phantomsection
\addcontentsline{toc}{chapter}{\protect\numberline{\thechapter}Tabellenverzeichnis}
\stepcounter{chapter}
\renewcommand{\listtablename}{Tabellenverzeichnis}
\listoftables

% ===============================================================================
% List of Source Code Fragments
% ===============================================================================
\clearpage
\phantomsection
\addcontentsline{toc}{chapter}{\protect\numberline{\thechapter}Source Code Verzeichnis}
\stepcounter{chapter}
\renewcommand{\listoflistingscaption}{Source Code Verzeichnis}
\listoflistings

% ===============================================================================
% Bibliography
% ===============================================================================
\clearpage
\phantomsection
\addcontentsline{toc}{chapter}{\protect\numberline{\thechapter}Literaturverzeichnis}
\stepcounter{chapter}
\renewcommand{\bibname}{Literaturverzeichnis}
\printbibliography

% ===============================================================================
% Appendix
% ===============================================================================
\clearpage
\phantomsection
\appendix
% Changes page numbering to Arabic
\renewcommand{\thepage}{\arabic{page}} % keeps page counter 
%\pagenumbering{arabic} % resets page counter
\input{content/_appendix}

\end{document}
